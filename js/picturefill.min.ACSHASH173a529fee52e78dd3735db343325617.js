/*
 Picturefill - Responsive Images that work today.
  Author: Scott Jehl, Filament Group, 2012 ( new proposal implemented by Shawn Jansepar )
  License: MIT/GPLv2
  Spec: http://picture.responsiveimages.org/
*/
(function(h,l,m){function k(a){var f=a||{};a=f.elements||b.getAllElements();for(var d=0,e=a.length;d<e;d++){var c=a[d];var g=c.parentNode;c[b.ns]||(c[b.ns]={});if(f.reevaluate||!c[b.ns].evaluated){if("PICTURE"===g.nodeName.toUpperCase()){b.removeVideoShim(g);var h=b.getMatch(c,g);if(!1===h)continue}else h=void 0;("PICTURE"===g.nodeName.toUpperCase()||c.srcset&&!b.srcsetSupported||!b.sizesSupported&&c.srcset&&-1<c.srcset.indexOf("w"))&&b.dodgeSrcset(c);h?(g=b.processSourceSet(h),b.applyBestCandidate(g,
c)):(g=b.processSourceSet(c),(void 0===c.srcset||c[b.ns].srcset)&&b.applyBestCandidate(g,c));c[b.ns].evaluated=!0}}}if(h.HTMLPictureElement)h.picturefill=function(){};else{l.createElement("picture");var b={ns:"picturefill"};b.srcsetSupported="srcset"in m;b.sizesSupported="sizes"in m;b.trim=function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")};b.endsWith=function(a,b){return a.endsWith?a.endsWith(b):-1!==a.indexOf(b,a.length-b.length)};b.restrictsMixedContent=function(){return"https:"===h.location.protocol};
b.matchesMedia=function(a){return h.matchMedia&&h.matchMedia(a).matches};b.getDpr=function(){return h.devicePixelRatio||1};b.getWidthFromLength=function(a){a=a&&!1===-1<a.indexOf("%")&&(0<parseFloat(a)||-1<a.indexOf("calc("))?a:"100vw";a=a.replace("vw","%");b.lengthEl||(b.lengthEl=l.createElement("div"),l.documentElement.insertBefore(b.lengthEl,l.documentElement.firstChild));b.lengthEl.style.cssText="position: absolute; left: 0; width: "+a+";";b.lengthEl.className="helper-from-picturefill-js";0>=
b.lengthEl.offsetWidth&&(b.lengthEl.style.cssText="width: 100%;");return b.lengthEl.offsetWidth};b.types={};b.types["image/jpeg"]=!0;b.types["image/gif"]=!0;b.types["image/png"]=!0;b.types["image/svg+xml"]=l.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1");b.types["image/webp"]=function(){m.onerror=function(){b.types["image/webp"]=!1;k()};m.onload=function(){b.types["image/webp"]=1===m.width;k()};m.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA\x3d"};
b.verifyTypeSupport=function(a){a=a.getAttribute("type");return null===a||""===a?!0:"function"===typeof b.types[a]?(b.types[a](),"pending"):b.types[a]};b.parseSize=function(a){a=/(\([^)]+\))?\s*(.+)/g.exec(a);return{media:a&&a[1],length:a&&a[2]}};b.findWidthFromSourceSize=function(a){a=b.trim(a).split(/\s*,\s*/);for(var f,d=0,e=a.length;d<e;d++){var c=b.parseSize(a[d]),g=c.length;c=c.media;if(g&&(!c||b.matchesMedia(c))){f=g;break}}return b.getWidthFromLength(f)};b.parseSrcset=function(a){for(var b=
[];""!==a;){a=a.replace(/^\s+/g,"");var d=a.search(/\s/g),e=null;if(-1!==d){var c=a.slice(0,d);if(","===c.slice(-1)||""===c)c=c.replace(/,+$/,""),e="";a=a.slice(d+1);null===e&&(d=a.indexOf(","),-1!==d?(e=a.slice(0,d),a=a.slice(d+1)):(e=a,a=""))}else c=a,a="";(c||e)&&b.push({url:c,descriptor:e})}return b};b.parseDescriptor=function(a,f){f=f||"100vw";var d=a&&a.replace(/(^\s+|\s+$)/g,"");a=b.findWidthFromSourceSize(f);if(d)for(f=d.split(" "),d=f.length+1;0<=d;d--)if(void 0!==f[d]){var e=f[d],c=e&&e.slice(e.length-
1);if("h"!==c&&"w"!==c||b.sizesSupported)"x"===c&&(g=(g=e&&parseFloat(e,10))&&!isNaN(g)?g:1);else var g=parseFloat(parseInt(e,10)/a)}return g||1};b.getCandidatesFromSourceSet=function(a,f){a=b.parseSrcset(a);for(var d=[],e=0,c=a.length;e<c;e++){var g=a[e];d.push({url:g.url,resolution:b.parseDescriptor(g.descriptor,f)})}return d};b.dodgeSrcset=function(a){a.srcset&&(a[b.ns].srcset=a.srcset,a.removeAttribute("srcset"))};b.processSourceSet=function(a){var f=a.getAttribute("srcset"),d=a.getAttribute("sizes"),
e=[];"IMG"===a.nodeName.toUpperCase()&&a[b.ns]&&a[b.ns].srcset&&(f=a[b.ns].srcset);f&&(e=b.getCandidatesFromSourceSet(f,d));return e};b.applyBestCandidate=function(a,f){a.sort(b.ascendingSort);var d=a.length;var e=a[d-1];for(var c=0;c<d;c++){var g=a[c];if(g.resolution>=b.getDpr()){e=g;break}}e&&!b.endsWith(f.src,e.url)&&(b.restrictsMixedContent()&&"http:"===e.url.substr(0,5).toLowerCase()?console.warn("Blocked mixed content image "+e.url):(f.src=e.url,f.currentSrc=f.src))};b.ascendingSort=function(a,
b){return a.resolution-b.resolution};b.removeVideoShim=function(a){var b=a.getElementsByTagName("video");if(b.length){b=b[0];for(var d=b.getElementsByTagName("source");d.length;)a.insertBefore(d[0],b);b.parentNode.removeChild(b)}};b.getAllElements=function(){for(var a=[],f=l.getElementsByTagName("img"),d=0,e=f.length;d<e;d++){var c=f[d];("PICTURE"===c.parentNode.nodeName.toUpperCase()||null!==c.getAttribute("srcset")||c[b.ns]&&null!==c[b.ns].srcset)&&a.push(c)}return a};b.getMatch=function(a,f){f=
f.childNodes;for(var d,e=0,c=f.length;e<c;e++){var g=f[e];if(1===g.nodeType){if(g===a)break;if("SOURCE"===g.nodeName.toUpperCase()){null!==g.getAttribute("src")&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var h=g.getAttribute("media");if(g.getAttribute("srcset")&&(!h||b.matchesMedia(h)))if(h=b.verifyTypeSupport(g),!0===h){d=g;break}else if("pending"===h)return!1}}}return d};(function(){function a(){if(!h._picturefillWorking){h._picturefillWorking=
!0;h.clearTimeout(a);var a=h.setTimeout(function(){k({reevaluate:!0});h._picturefillWorking=!1},60)}}k();var b=setInterval(function(){k();/^loaded|^i|^c/.test(l.readyState)&&clearInterval(b)},250);h.addEventListener?h.addEventListener("resize",a,!1):h.attachEvent&&h.attachEvent("onresize",a)})();k._=b;"object"===typeof module&&"object"===typeof module.exports?module.exports=k:"function"===typeof define&&define.amd?define(function(){return k}):"object"===typeof h&&(h.picturefill=k)}})(this,this.document,
new this.Image);document.createElement("picture");$("document").ready(function(){picturefill()});